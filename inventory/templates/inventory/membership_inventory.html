{% extends 'core/base.html' %}
{% load static %}

{% block title %}
    Squire - {{ Boardgames }}
{% endblock title %}

{% block content-frame-class %}
    container
{% endblock %}


{% block content %}
    <h1>My items</h1>
    <p>
        Below is a list of your items stored at the Knights. Want to add a new boardgame? Send an e-mail to
        <a href="mailto:zg@kotkt.nl">zg@kotkt.nl</a> to inform them and they'll update it below.
    </p>
    <hr>

    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <thead>
            <tr>
                <th scope="col">Name</th>
                <th scope="col">Type</th>
                <th scope="col">Added on</th>
                <th scope="col">Note</th>
                <th scope="col">Actions</th>
            </tr>
            </thead>
            <tbody>
                {% for ownership in ownerships %}
                    <tr>
                        <td>
                            {% if ownership.content_object.image %}
                                <img style="height: 2em;" src={{ ownership.content_object.image.url }}>
                            {% endif %}
                            {{ ownership.content_object.name }}
                        </td>
                        <td>
                            {{ ownership.content_type }}
                        </td>
                        <td>
                            {{ ownership.added_since }}
                        </td>
                        <td>
                            {{ ownership.note }}
                        </td>
                        <td>
                            <a class="btn btn-sm btn-warning"
                                href="{% url "inventory:member_take_home" ownership_id=ownership.id %}">
                                Take home
                            </a>
                        </td>
                    </tr>
                {% endfor %}

            </tbody>
        </table>
    </div>

    <hr>
    <h3>
        Previous items
    </h3>
    <p>
        Below is a list of items that at one point had been stored at the association.
    </p>

    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <thead>
            <tr>
                <th scope="col">Name</th>
                <th scope="col">Type</th>
                <th scope="col">Taken home on</th>
                <th scope="col">Note</th>
                <th scope="col">Actions</th>
            </tr>
            </thead>
            <tbody>
            {% for ownership in ownerships_history %}
                <tr>
                    <td>
                        {% if ownership.content_object.image %}
                            <img style="height: 2em;" src={{ ownership.content_object.image.url }}>
                        {% endif %}
                        {{ ownership.content_object.name }}
                    </td>
                    <td>
                        {{ ownership.content_type }}
                    </td>
                    <td>
                        {{ ownership.added_since }}
                    </td>
                    <td>
                        {{ ownership.note }}
                    </td>
                    <td>
                        <a class="btn btn-sm btn-secondary"
                           href="{% url "inventory:member_loan_out" ownership_id=ownership.id %}">
                            Leave at Knights
                        </a>
                    </td>
                </tr>
            {% endfor %}

            </tbody>
        </table>
    </div>

    <div class="row">
        <div class="col">

        </div>
    </div>



{% endblock %}
